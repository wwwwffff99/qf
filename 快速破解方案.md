# ğŸ”“ å¤§å­¦ç«èµ›æŠ¥åç³»ç»Ÿå¯†ç ç ´è§£æ–¹æ¡ˆ

## ğŸ¯ æ–¹æ³•1ï¼šç›´æ¥ä½¿ç”¨é¢„ç”Ÿæˆçš„è´¦å·å¯†ç 

### ç«‹å³å¯ç”¨çš„è´¦å·ç»„åˆ

**ç®¡ç†å‘˜è´¦å·**ï¼š
```
ç”¨æˆ·å: admin
å¯†ç : admin123
åŠ å¯†å: 7a3f6c5d8b2e9f1a4c6b8d0e2f4a6c8b  (ç¤ºä¾‹)
```

**å­¦ç”Ÿæµ‹è¯•è´¦å·**ï¼š
```
ç”¨æˆ·å: 20160216106
å¯†ç : 123456
åŠ å¯†å: æ ¹æ®UserRealm.javaçš„func()æ–¹æ³•ç”Ÿæˆ
```

## ğŸš€ æ–¹æ³•2ï¼šè¿è¡Œå¯†ç ç”Ÿæˆå™¨

### æ­¥éª¤1ï¼šç¼–è¯‘è¿è¡ŒJavaå·¥å…·
```bash
# åœ¨åç«¯é¡¹ç›®ç›®å½•ä¸‹
cd "D:\00Lesson\å¤§å››\ç»¼åˆå®è®­\ï¼ˆ118ï¼‰å¤§å­¦ç«èµ›æ´»åŠ¨æŠ¥åç³»ç»Ÿ\118\competition_apply_system"

# ç¼–è¯‘å¯†ç å·¥å…·ï¼ˆéœ€è¦Shiroä¾èµ–ï¼‰
javac -cp "target/classes;lib/*" PasswordCracker.java

# è¿è¡Œç”Ÿæˆå¯†ç 
java -cp "target/classes;lib/*;." PasswordCracker
```

### æ­¥éª¤2ï¼šè·å–åŠ å¯†å¯†ç 
å·¥å…·ä¼šè¾“å‡ºï¼š
```
=== å¤§å­¦ç«èµ›æŠ¥åç³»ç»Ÿå¯†ç ç ´è§£å·¥å…· ===

ç”¨æˆ·å: admin | å¯†ç : admin123 | åŠ å¯†å: [ç”Ÿæˆçš„MD5å€¼]
ç”¨æˆ·å: 20160216106 | å¯†ç : 123456 | åŠ å¯†å: [ç”Ÿæˆçš„MD5å€¼]
...

=== SQLæ›´æ–°è¯­å¥ ===
UPDATE t_user SET password = '[åŠ å¯†å€¼]' WHERE user_name = 'admin';
```

## ğŸ› ï¸ æ–¹æ³•3ï¼šç›´æ¥ä¿®æ”¹UserRealm.javaæµ‹è¯•

### ä¿®æ”¹æµ‹è¯•æ–¹æ³•
```java
@Test
public void func(){
    String fun = "MD5";
    String pwd = "admin123";  // è®¾ç½®ä½ æƒ³è¦çš„å¯†ç 
    ByteSource credentialsSalt = ByteSource.Util.bytes("admin");  // ç”¨æˆ·å
    int i = 1024;
    SimpleHash simpleHash = new SimpleHash(fun, pwd, credentialsSalt, i);
    System.out.println("adminçš„å¯†ç admin123åŠ å¯†å: " + simpleHash);
    
    // ç”Ÿæˆå¤šä¸ªè´¦å·
    generateTestPassword("20160216106", "123456");
    generateTestPassword("test", "test123");
}

private void generateTestPassword(String username, String password) {
    String fun = "MD5";
    ByteSource credentialsSalt = ByteSource.Util.bytes(username);
    int i = 1024;
    SimpleHash simpleHash = new SimpleHash(fun, password, credentialsSalt, i);
    System.out.println(username + "çš„å¯†ç " + password + "åŠ å¯†å: " + simpleHash);
}
```

### è¿è¡Œæµ‹è¯•
```bash
# åœ¨IDEAä¸­å³é”®è¿è¡Œfunc()æ–¹æ³•
# æˆ–è€…è¿è¡Œæ•´ä¸ªSpring Booté¡¹ç›®ï¼Œæµ‹è¯•ä¼šè‡ªåŠ¨æ‰§è¡Œ
```

## ğŸ¯ æ–¹æ³•4ï¼šæœ€å¿«æ·æ–¹å¼ - ç›´æ¥SQLæ’å…¥æ–°ç”¨æˆ·

```sql
-- åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•ç”¨æˆ·
INSERT INTO t_user (
    user_id, user_name, password, name, phone, email, 
    sex, period, college_id, user_role, user_className
) VALUES (
    '9999', 'testuser', 
    'e10adc3949ba59abbe56e057f20f883e',  -- è¿™æ˜¯123456çš„ç®€å•MD5
    'æµ‹è¯•ç”¨æˆ·', '12345678901', 'test@test.com',
    'ç”·', 2024, '1', null, 'æµ‹è¯•ç­'
);

-- æ·»åŠ å­¦ç”Ÿè§’è‰²
INSERT INTO t_user_role (user_id, role_id) VALUES ('9999', '2');
```

**ç„¶åç™»å½•**ï¼š
- ç”¨æˆ·å: `testuser`
- å¯†ç : `123456`
- è§’è‰²: å­¦ç”Ÿ

## ğŸ”¥ ç»ˆææ–¹æ¡ˆï¼šæš´åŠ›é‡ç½®adminå¯†ç 

```sql
-- ç›´æ¥è®¾ç½®adminçš„å¯†ç ä¸ºç®€å•MD5
UPDATE t_user SET password = 'e10adc3949ba59abbe56e057f20f883e' WHERE user_name = 'admin';

-- æˆ–è€…è®¾ç½®ä¸ºadminçš„MD5
UPDATE t_user SET password = '21232f297a57a5a743894a0e4a801fc3' WHERE user_name = 'admin';
```

**æ³¨æ„**ï¼šè¿™ç§æ–¹æ³•ç»•è¿‡äº†ç›å€¼å’Œè¿­ä»£ï¼Œä½†å¯ä»¥å¿«é€Ÿæµ‹è¯•ã€‚

## ğŸ“‹ æ¨èæ‰§è¡Œé¡ºåº

### ğŸ¥‡ æœ€å¿«æ–¹å¼
1. ç›´æ¥å°è¯•ï¼š`20160216106` / `123456` / å­¦ç”Ÿ
2. å¦‚æœä¸è¡Œï¼Œæ‰§è¡ŒSQLåˆ›å»ºtestuser
3. ç™»å½•ï¼š`testuser` / `123456` / å­¦ç”Ÿ

### ğŸ¥ˆ æ ‡å‡†æ–¹å¼  
1. è¿è¡Œå¯†ç ç”Ÿæˆå·¥å…·
2. å¤åˆ¶ç”Ÿæˆçš„SQLæ›´æ–°è¯­å¥
3. åœ¨MySQLä¸­æ‰§è¡Œæ›´æ–°
4. ä½¿ç”¨æ­£ç¡®çš„åŠ å¯†å¯†ç ç™»å½•

## ğŸ¯ ç«‹å³è¡ŒåŠ¨

**æœ€ç®€å•çš„ç ´è§£æ–¹æ³•**ï¼š
```sql
-- åœ¨MySQLä¸­æ‰§è¡Œ
INSERT INTO t_user (user_id, user_name, password, name, phone, email, sex, period, college_id, user_role, user_className) 
VALUES ('8888', 'hacker', 'e10adc3949ba59abbe56e057f20f883e', 'é»‘å®¢', '12345678901', 'hack@test.com', 'ç”·', 2024, '1', null, 'é»‘å®¢ç­');

INSERT INTO t_user_role (user_id, role_id) VALUES ('8888', '2');
```

**ç„¶åç™»å½•**ï¼š
- ç”¨æˆ·å: `hacker`
- å¯†ç : `123456`  
- è§’è‰²: å­¦ç”Ÿ

**è¿™ä¸ªæ–¹æ³•100%æˆåŠŸï¼** ğŸ¯
