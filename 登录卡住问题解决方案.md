# 登录卡住问题解决方案

## 🔍 问题分析

当登录一直显示"登录中"状态时，通常是以下几种情况：

1. **后端服务未完全启动** - Spring Boot还在启动过程中
2. **前后端连接问题** - API请求无法到达后端
3. **跨域问题** - CORS配置问题
4. **端口问题** - 后端端口不正确
5. **网络请求超时** - 请求被阻塞

## 🧪 诊断步骤

### 步骤1：检查后端服务状态

**在PowerShell中检查8999端口**：
```powershell
netstat -ano | findstr :8999
```

**应该看到类似输出**：
```
TCP    0.0.0.0:8999           0.0.0.0:0              LISTENING
```

### 步骤2：检查后端启动日志

**查看后端控制台**，确认是否看到完整的启动成功信息：
```
Started CompetitionApplySystemApplication in XX.XXX seconds
Tomcat started on port(s): 8999 (http) with context path '/competition'
```

### 步骤3：测试后端API直接访问

**在浏览器中访问**：
```
http://localhost:8999/competition
```

**正常情况下应该**：
- 显示页面（可能是错误页面，但有响应）
- 不应该显示"无法访问此网站"

### 步骤4：检查浏览器开发者工具

**在前端页面按F12，查看**：
1. **Console标签** - 是否有JavaScript错误
2. **Network标签** - 查看登录请求的状态
   - 请求URL是否正确
   - 响应状态码
   - 是否有错误信息

## 🚀 解决方案

### 方案1：确保后端完全启动

**如果后端还在启动中**：
- 等待后端完全启动
- 查看控制台直到看到"Started CompetitionApplySystemApplication"

### 方案2：重启后端服务

**如果后端启动不完整**：
1. **停止当前后端服务**（Ctrl+C）
2. **重新启动**：
```powershell
cd "D:\00Lesson\大四\综合实训\（118）大学竞赛活动报名系统\118\competition_apply_system"
.\mvnw.cmd spring-boot:run
```

### 方案3：检查前端配置

**检查前端API配置**：
在 `main.js` 中确认：
```javascript
axios.defaults.baseURL = 'http://localhost:8999/competition'
```

### 方案4：清除浏览器缓存

**清除缓存并刷新**：
1. **按Ctrl+Shift+Delete**清除浏览器缓存
2. **或者按Ctrl+F5**强制刷新页面

## 🎯 立即诊断命令

**请按顺序执行以下检查**：

### 1. 检查后端端口
```powershell
netstat -ano | findstr :8999
```

### 2. 测试后端API
**在浏览器访问**：http://localhost:8999/competition

### 3. 检查前端网络请求
**在前端页面**：
1. 按F12打开开发者工具
2. 切换到Network标签
3. 尝试登录
4. 查看是否有请求发出，以及响应状态

## 🚨 常见问题及解决

### 问题1：后端8999端口未监听
**现象**：`netstat -ano | findstr :8999` 没有输出
**解决**：后端未启动或启动失败，需要重新启动

### 问题2：后端API无法访问
**现象**：访问 http://localhost:8999/competition 显示"无法访问"
**解决**：后端服务有问题，检查启动日志

### 问题3：跨域问题
**现象**：浏览器控制台显示CORS错误
**解决**：后端需要配置跨域支持

### 问题4：请求超时
**现象**：Network标签显示请求pending很久
**解决**：后端响应慢，可能是数据库连接问题

## 📊 系统状态检查清单

- [ ] Redis服务运行正常（localhost:6379）
- [ ] MySQL服务运行正常（localhost:3306）
- [ ] 后端服务完全启动（localhost:8999）
- [ ] 前端服务运行正常（localhost:8080）
- [ ] 后端API可以直接访问
- [ ] 浏览器开发者工具无错误

## 💡 快速解决步骤

**请立即执行**：

1. **检查后端端口**：
```powershell
netstat -ano | findstr :8999
```

2. **测试后端API**：
在浏览器访问：http://localhost:8999/competition

3. **查看后端控制台**：
确认是否有"Started CompetitionApplySystemApplication"信息

4. **检查前端网络请求**：
F12 → Network → 尝试登录 → 查看请求状态

---

**请先执行这些检查，告诉我每一步的结果！**
